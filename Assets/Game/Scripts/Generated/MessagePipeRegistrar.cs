// ------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by MessagePipeEventBaker.
//     Runtime Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
// ------------------------------------------------------------------------------

using System;
using System.Collections.Generic;
using MessagePipe;
using UnityEngine.Scripting;
#if VCONTAINER
using VContainer;
#endif
using VuTH.Common.MessagePipe;

namespace Core.Generated
{
    [VContainer.Preserve]
    public static class MessagePipeRegistrar
    {

        #if VCONTAINER

        /// <summary>
        /// Register all global-scoped MessagePipe events to the VContainer builder.
        /// Also registers MessagePipe core services.
        /// </summary>
        public static void RegisterGlobal(IContainerBuilder builder)
        {
            if (builder == null) throw new ArgumentNullException(nameof(builder));

            // Get configured MessagePipeOptions
            var options = MessagePipeHelper.GetConfiguredOptions();

            // Register MessagePipe core services
            builder.RegisterMessagePipe();

            // Register global-scoped event brokers
            builder.RegisterMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PostScreenEnterEvent>(options);
            builder.RegisterMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PostScreenExitEvent>(options);
            builder.RegisterMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PreScreenEnterEvent>(options);
            builder.RegisterMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PreScreenExitEvent>(options);
            builder.RegisterMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.ScreenTransitionCompletedEvent>(options);
            builder.RegisterMessageBroker<_VuTH.Core.Persistant.SaveSystem.Events.SaveEvent>(options);
        }

        /// <summary>
        /// Register scene-scoped MessagePipe events to the VContainer builder.
        /// Filters events by the active scene name.
        /// </summary>
        public static void RegisterScene(IContainerBuilder builder, string activeSceneName)
        {
            if (builder == null) throw new ArgumentNullException(nameof(builder));
            if (activeSceneName == null) throw new ArgumentNullException(nameof(activeSceneName));

            // Get configured MessagePipeOptions
            var options = MessagePipeHelper.GetConfiguredOptions();

            // Register scene-scoped event brokers with scene name filtering

            if (activeSceneName == "Gameplay")
            {
                builder.RegisterMessageBroker<TScript.TestEvent>(options);
                return;
            }

            if (activeSceneName == "Gameplay2")
            {
                builder.RegisterMessageBroker<TScript.TestEvent2>(options);
                return;
            }

            if (activeSceneName == "Gameplay3")
            {
                builder.RegisterMessageBroker<TScript.TestEvent3>(options);
                return;
            }
        }

        #else

        /// <summary>
        /// Register all MessagePipe events to BuiltinContainerBuilder (non-VContainer mode).
        /// </summary>
        public static void RegisterGlobal(BuiltinContainerBuilder builder)
        {
            if (builder == null) throw new ArgumentNullException(nameof(builder));

            // Get configured MessagePipeOptions
            var options = MessagePipeHelper.GetConfiguredOptions();

            builder.AddMessagePipe();

            // Register all events as global (scene scope not supported without VContainer)
            builder.AddMessageBroker<TScript.TestEvent>();
            builder.AddMessageBroker<TScript.TestEvent2>();
            builder.AddMessageBroker<TScript.TestEvent3>();
            builder.AddMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PostScreenEnterEvent>();
            builder.AddMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PostScreenExitEvent>();
            builder.AddMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PreScreenEnterEvent>();
            builder.AddMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PreScreenExitEvent>();
            builder.AddMessageBroker<_VuTH.Core.GameCycle.Screen.Events.MessagePipe.ScreenTransitionCompletedEvent>();
            builder.AddMessageBroker<_VuTH.Core.Persistant.SaveSystem.Events.SaveEvent>();
        }

        #endif

        // Helper method to get all event types (useful for debugging/inspection)
        public static IEnumerable<Type> GetAllEventTypes()
        {
            yield return typeof(TScript.TestEvent);
            yield return typeof(TScript.TestEvent2);
            yield return typeof(TScript.TestEvent3);
            yield return typeof(_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PostScreenEnterEvent);
            yield return typeof(_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PostScreenExitEvent);
            yield return typeof(_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PreScreenEnterEvent);
            yield return typeof(_VuTH.Core.GameCycle.Screen.Events.MessagePipe.PreScreenExitEvent);
            yield return typeof(_VuTH.Core.GameCycle.Screen.Events.MessagePipe.ScreenTransitionCompletedEvent);
            yield return typeof(_VuTH.Core.Persistant.SaveSystem.Events.SaveEvent);
        }
    }
}
